<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Profile</title>

   <!-- Font Awesome CDN link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">

   <!-- Custom CSS file link  -->
   <link rel="stylesheet" href="/style/profile v2.css">
   <style>
      /* Add any custom inline styles here */
   </style>

</head>
<body>

   <header class="header">
      <section class="flex">
         <a href="index.html" class="logo">Career Guidance</a>
   
         <div class="icons">
            <div id="menu-btn" class="fas fa-bars"></div>
            <div id="user-btn" class="fas fa-user"></div>
            <div id="toggle-btn" class="fas fa-sun"></div>
         </div>
   
         <div class="profile">
            <img src="/images/Screenshot 2024-11-21 144815.png" class="image" alt="">
            <h1><span id="user-name"></span></h1>
            <p class="role">User</p>
            <a href="dashboard.html" class="btn">View Profile</a>
            <div class="flex-btn">
               <a href="login.html" class="option-btn">Login</a>
               <a href="login.html" class="option-btn">Register</a>
            </div>
         </div>
      </section>
   </header>   

   <div class="side-bar">
      <div id="close-btn">
         <i class="fas fa-times"></i>
      </div>
   
      <div class="profile">
         <img src="/images/Screenshot 2024-11-21 144815.png" class="image" alt="">
         <h1><span id="user-name"></span></h1>
         <p class="role">User</p>
         <a href="dashboard.html" class="btn">View Profile</a>
      </div>
   
      <nav class="navbar">
         <a href="/dashboard"><i class="fas fa-home"></i><span>Home</span></a>
         <a href="/skills"><i class="fas fa-graduation-cap"></i><span>Skill Gap Analysis</span></a>
         <a href="/courses"><i class="fas fa-graduation-cap"></i><span>Courses</span></a>
         <a href="/jobrecommendation"><i class="fas fa-graduation-cap"></i><span>Job Recommendation</span></a>
         <a href="/feedback"><i class="fas fa-headset"></i><span>Feedback</span></a>
      </nav>
   </div>

   <section class="user-profile">
      <h1 class="heading">Job Recommendation</h1>

      <div class="info">
         <div class="user">
            <img src="images/Screenshot 2024-11-21 144815.png" alt="User Avatar">
            <h1>Welcome, <span id="user-name"></span>!</h1>
            <p>Email: <span id="user-email"></span></p>
            <a href="update.html" class="inline-btn">Update Profile</a>
         </div>
   
         <div class="box-container">
            <div class="box">
               <div class="flex">
                  <i class="fas fa-bookmark"></i>
                  <div>
                     <span>Job Recommendation</span>
                     <p>Based on your current skill set</p>
                  </div>
               </div>
               <h1 style="text-align: center; margin: 20px;font-size: 22px	;">Job Listings</h1>

               <!-- Container for the job cards -->
               <div class="container" style="display: flex; flex-wrap: wrap;">
                  <!-- Loop through job postings with Thymeleaf -->
                  <div th:each="job : ${jobPostings}">
                     <div class="card" style="border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 10px; width: 250px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                        <h3 th:text="${job.jobTitle}" style="font-size: 18px; font-weight: bold; color: #333;">Job Title</h3>
                        <p><strong style="font-size: 16px;">Company:</strong> <span th:text="${job.companyName}" style="color: #555; font-size: 16px;">Company Name</span></p>
                        <p><strong style="font-size: 16px;">Location:</strong> <span th:text="${job.location}" style="color: #555; font-size: 16px;">Location</span></p>
                        <p><strong style="font-size: 16px;">Description:</strong> <span th:text="${job.jobDescription}" style="color: #555; font-size: 16px;">Job Description</span></p>
                        <p><strong style="font-size: 16px;">Skills:</strong> <span th:text="${job.requiredSkills}" style="color: #555; font-size: 16px;">Required Skills</span></p>
                        <p><strong style="font-size: 16px;">Salary:</strong> <span th:text="${job.salaryRange}" style="color: #555; font-size: 16px;">Salary Range</span></p>
                        
						<!-- Conditionally render the delete button if userType is "admin" -->
						<div th:if="${userType == 'admin'}">
						    <form th:action="@{/deletejob/{id}(id=${job.id})}" method="POST" style="display: inline-block;">
						        <button type="submit" class="delete-btn" style="background-color: #dc3545; color: #fff; padding: 12px 24px; border: none; border-radius: 5px; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;">
						            Delete Job
						        </button>
						    </form>
						</div>
                     </div>
                  </div>
               </div>

            </div>
         </div>
      </div>
   </section>

   <!-- Custom JS file link -->
   <script src="/script/profile.js"></script>
</body>
</html>
